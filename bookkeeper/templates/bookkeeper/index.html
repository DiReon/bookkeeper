{% extends 'bookkeeper/base.html' %}
{% block content %}

{% load bootstrap4 %}       {# import bootstrap4/bootstrap3 #}
{% bootstrap_css %}         {# Embed Bootstrap CSS #}
{% bootstrap_javascript jquery='full' %}  {# Embed Bootstrap JS+jQuery #}
{{ form.media }}            {# Adds date-picker required JS and CSS #}

<a class = "btn btn-light" href="{% url 'expense_test_add' %}">Add demo expenses</a>

<h3>Add expense</h3>
<a class = "btn btn-outline-success" href="{% url 'expense_add_formset' %}">
    <div><i>click to add 5 sets</i></div>
</a>

<form action = "" method="POST" class="form-group">{% csrf_token %}
    <div>
        <label for="name"></label>    
        {{form.name}}
    </div>
    <div>
        <label for="amount"></label>    
        {{form.amount}}
    </div>
    <div style="max-width: 300px">
        <label for="payment_date"></label>
        {{form.payment_date}}    
    </div>
    <div>
        <label for="category"></label>    
        {{form.category}}
    </div>
    <div>
        <label for="category"></label>    
        {{form.new_cat}}
    </div>
    <div>
        <label for="comments"></label>    
        {{form.comments}}
    </div>  
    <div>
        {{form.planned_monthly}}
        <label for="planned_monthly">Planned monthly</label>    
    </div>  
  
    <button type="submit" class="btn btn-success">Submit</button>
</form>
<br>


<h3>Latest Expenses:</h3>

{% for expense in expenses %}
<div class="expense">
    <div class="expense-name">
        {{ expense.name }} : {{expense.category}} : {% if expense.planned %} PLANNED {% endif %}
        <br><small>Paid on {{ expense.payment_date|date:"F j, Y" }}  {{ expense.amount }} added by {{ expense.author}} on {{expense.created_date}}</small>
    </div>
    
</div>
{% endfor %}

<h3>Latest Incomes:</h3>

{% for income in incomes %}
<div class="income">
    <div class="income-name">
        {{ income.name }} 
        <br><small>Received on {{ income.income_date|date:"F j, Y" }}  {{ income.amount }} added by {{ income.author}} on {{income.created_date}}</small>
    </div>
    
</div>
{% endfor %}

{% endblock %}